import { Canvas, Meta, Story } from '@storybook/addon-docs';

<Meta title="components/Tooltip" />

import { Wrapper } from '../Wrapper';

import {
  AppProvider,
  CodePreview,
  Table,
  Text,
} from '@gluestack/design-system';

import { AccessibleTooltip } from './Tooltip';

import { Pressable, View, Text as RNText } from 'react-native';

# Tooltip

A tooltip provides a brief, informative message when a user interacts with an element. Methods of tooltip initiation include: through a mouse-hover gesture or a keyboard-hover gesture.

<AppProvider>
  <CodePreview
    showComponentRenderer={true}
    showArgsController={false}
    metaData={{
      code: ` 
      function App () {
        return (
           <Wrapper>
            <Tooltip
        placement="bottom"
        trigger={(triggerProps: any) => {
          return (
            <Pressable
              style={{
                backgroundColor: 'blue',
                padding: 10,
                borderRadius: 4,
              }}
              {...triggerProps}
            >
              <RNText style={{ color: 'white' }}>Tooltip</RNText>
            </Pressable>
           
          );
        }}
      >
        <Tooltip.Content
          sx={{
            color: '$white',
            px: '$2',
            py: '$1',
            fontSize: 12,
          }}
        >
          
          <RNText>Hello world</RNText>
        </Tooltip.Content>
      </Tooltip> 
          </Wrapper>
       )
    }`,
      scope: { Tooltip: AccessibleTooltip, Wrapper, RNText, Pressable, View },
      argsType: {},
    }}
  />
</AppProvider>

<br />

## Usage

<br />

## Features

- Keyboard support for actions.
- Support for hover, focus and active states.

## Installation

```jsx
yarn add @universa11y/tooltip
```

## Usage

```jsx
import { createTooltip } from '@universa11y/tooltip';
const Tooltip = createTooltip({
  Root,
  Content,
});
```

These are the styled components that we need to pass in the creator API:

### Root

```jsx
const Root = styled(
  View,
  {
    ...
  },
);
```

### Content

```jsx
const Content = styled(
  View,
  {
    ...
  },
);
```

## Anatomy

```jsx
export default () => (
  <AccessibleTooltip
    placement="bottom"
    trigger={(triggerProps: any) => {
      return triggerProps;
    }}
  >
    <AccessibleTooltip.Content></AccessibleTooltip.Content>
  </AccessibleTooltip>
);
```

## API Reference

### Tooltip

Contains all tooltip related layout style props and actions.
It inherits all the properties of React Native's [View](https://reactnative.dev/docs/view#props) component.

<AppProvider>
  <Table>
    <Table.THead sx={{ _dark: { bg: '$gray800' }, _light: { bg: '$gray100' } }}>
      <Table.TR>
        <Table.TH>
          <Text>Prop</Text>
        </Table.TH>
        <Table.TH>
          <Text>Type</Text>
        </Table.TH>
        <Table.TH>
          <Text>Default</Text>
        </Table.TH>
        <Table.TH>
          <Text>Description</Text>
        </Table.TH>
      </Table.TR>
    </Table.THead>
    <Table.TBody>
      <Table.TR>
        <Table.TD>
          <Text>trigger</Text>
        </Table.TD>
        <Table.TD>
          <Text>{'(_props: any, state: { open: boolean; }) => Element'}</Text>
        </Table.TD>
        <Table.TD>
          <Text></Text>
        </Table.TD>
        <Table.TD>
          <Text>
            Function that returns a React Element. This element will be used as
            a Trigger for the menu.
          </Text>
        </Table.TD>
      </Table.TR>
      <Table.TR>
        <Table.TD>
          <Text>placement</Text>
        </Table.TD>
        <Table.TD>
          <Text>
            {
              '"bottom" | "top" | "right" | "left" | "top left" | "top right" | "bottom left" | "bottom right" | "right top" | "right bottom" | "left top" | "left bottom"'
            }
          </Text>
        </Table.TD>
        <Table.TD>
          <Text>bottom left</Text>
        </Table.TD>
        <Table.TD>
          <Text>menu placement</Text>
        </Table.TD>
      </Table.TR>
      <Table.TR>
        <Table.TD>
          <Text>defaultIsOpen</Text>
        </Table.TD>
        <Table.TD>
          <Text>boolean</Text>
        </Table.TD>
        <Table.TD>
          <Text>false</Text>
        </Table.TD>
        <Table.TD>
          <Text>If true, the menu will be opened by default.</Text>
        </Table.TD>
      </Table.TR>
      <Table.TR>
        <Table.TD>
          <Text>closeOnOverlayClick</Text>
        </Table.TD>
        <Table.TD>
          <Text>bool</Text>
        </Table.TD>
        <Table.TD>
          <Text>true</Text>
        </Table.TD>
        <Table.TD>
          <Text>closes menu when clicked outside</Text>
        </Table.TD>
      </Table.TR>
      <Table.TR>
        <Table.TD>
          <Text>onOpen</Text>
        </Table.TD>
        <Table.TD>
          <Text>{'() => void'}</Text>
        </Table.TD>
        <Table.TD>
          <Text>true</Text>
        </Table.TD>
        <Table.TD>
          <Text>This function will be invoked when the menu is opened.</Text>
        </Table.TD>
      </Table.TR>
      <Table.TR>
        <Table.TD>
          <Text>onClose</Text>
        </Table.TD>
        <Table.TD>
          <Text>{' () => void'}</Text>
        </Table.TD>
        <Table.TD>
          <Text></Text>
        </Table.TD>
        <Table.TD>
          <Text>
            This function will be invoked when menu is closed. It will also be
            called when the user attempts to close the menu via Escape key or
            backdrop press.
          </Text>
        </Table.TD>
      </Table.TR>
      <Table.TR>
        <Table.TD>
          <Text>isOpen</Text>
        </Table.TD>
        <Table.TD>
          <Text>boolean</Text>
        </Table.TD>
        <Table.TD>
          <Text>false</Text>
        </Table.TD>
        <Table.TD>
          <Text>
            Whether the menu is opened. Useful for controlling the open state.
          </Text>
        </Table.TD>
      </Table.TR>
    </Table.TBody>
  </Table>
</AppProvider>

### Tooltip.Content

Contains all backdrop related layout style props and actions.
It inherits all the properties of React Native's [Pressable](https://reactnative.dev/docs/pressable#props) component.

## Accessibility

Adheres to the [TOOLTIP WAI-ARIA design pattern]('https://www.w3.org/WAI/ARIA/apg/#tooltip').

## Dependencies

- `@universa11y/utils`
- `@react-native-aria/focus`
- `react-native-svg`,
- `@react-native-aria/overlays`
- `@universa11y/hooks`
- `@universa11y/overlay`
