import { Canvas, Meta, Story } from '@storybook/addon-docs';

<Meta title="Getting Started/Installation" />

# Installation

- To install our library, you can use npm or yarn package manager.

  ```bash
  # using npm

  npm install @dank-style/react

  # using yarn

  yarn add @dank-style/react
  ```

Once the library is installed, you can import it in your project by using the following line of code.

```jsx
import { styled, StyledProvider } from 'dank-style';
```

To configure `dank`, you will need to create a `dank.config.js` file (.js works too) in the root of your project. In this config file, you can define your theme tokens, breakpoints, and any other settings that you want to use throughout your application. Once your config file is set up, you can import it and pass it as a prop to the `StyledProvider` component, which should be wrapped around your entire application. This will make the configuration options available to all components using the styled function.

For example, in dank.config.js:

```jsx
export const config = {
    aliases: {
      bg: 'backgroundColor',
      backgroundColor: 'backgroundColor'
    },

    tokens: {
      colors: {
        primary0: '#ffffff',
        primary400: '#c084fc',
        primary500: '#a855f7',
        primary600: '#9333ea',
      },
      space: {
        '4': 16,
        '5': 20,
        '6': 24,

      },
      borderWidths: {

      },
      radii: {
        'sm': 4,
        'md': 6,

      },
      letterSpacings: {

        'md': 0,

      },
      lineHeights: {

        'sm': '20px',
        'md': '22px',

      },
      fontWeights: {

        normal: '400',
        medium: '500',

      },
      fonts: {

      },
      fontSizes: {
        'sm': 14,
        'md': 16,
      },
  		mediaQueries: {
  	    'sm': '@media (min-width: 480px)',
  	    'md': '@media (min-width: 768px)',

  	  },
    },
  } as const;

```

Then, in your application's entry point, you can import the config file and pass it as a prop to the StyledProvider component, which should be a parent component to all your other components:

```jsx
import React from 'react';
import { StyledProvider } from 'dank-styled-components';
import tokens from './dank.config';

const App = () => {
  return (
    <StyledProvider tokens={tokens}>
      {/* Other components here */}
    </StyledProvider>
  );
};

export default App;
```

You will also need to add the babel plugin to your project if you want to perform all style calculations during build time. The plugin can be installed via npm or yarn and should be added to your babel config.

```base
  npm install --save-dev babel-plugin-styled-components-optimizations

```

or

```base
  yarn add --dev babel-plugin-styled-components-optimizations

```

```jsx
// babel.config.js
module.exports = {
  plugins: ['styled-components-optimizations'],
};
```

## Sever-side rendering

It's also recommended to set up your server-side rendering (SSR) correctly. To do this, you will need to use the flush() function exported by the library and call it in your \_document.js file.

```jsx
import { flush } from 'dank-style';

class MyDocument extends Document {
  static getInitialProps({ renderPage }) {
    const sheet = new ServerStyleSheet();
    const page = renderPage(
      (App) => (props) => sheet.collectStyles(<App {...props} />)
    );
    const styleTags = sheet.getStyleElement();
    const styles = flush();
    return { ...page, styleTags, styles };
  }
  render() {
    return (
      <html>
        <Head>
          {this.props.styleTags}
          <style id="server-styles">{this.props.styles}</style>
        </Head>
        <body>
          <Main />
          <NextScript />
        </body>
      </html>
    );
  }
}
```

Once you've completed these steps, you can start using the styled function to create styled components and take advantage of the library's features.

```

```
