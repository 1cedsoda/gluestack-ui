import { Canvas, Meta, Story } from '@storybook/addon-docs';

<Meta title="components/Transitions" />

import { Wrapper } from '../Wrapper';
import { View, Pressable, Text as RNText, StyleSheet } from 'react-native';
import { Fade } from '@universa11y/transitions';
import { useState } from 'react';

import {
  AppProvider,
  CodePreview,
  Table,
  Text,
} from '@gluestack/design-system';

# Transitions

Transitions provides a declarative API to add entry and exit transitions.

<AppProvider>
  <CodePreview
    showComponentRenderer={true}
    showArgsController={false}
    metaData={{
      code: ` 
      function App () {
  const [visibleFade, setVisibleFade] = useState(false);
        return (
          <Wrapper>
        <View>
        <Pressable
          onPress={() => {
            setVisibleFade(!visibleFade);
          }}
        >
          <RNText>Press me fade</RNText>
        </Pressable>
        <Fade
          in={visibleFade}
          style={StyleSheet.absoluteFill}
          initial={{ opacity: 0 }}
          animate={{ opacity: 1, transition: { duration: 200 } }}
          exit={{ opacity: 0, transition: { duration: 100 } }}
        >
          <View
            style={{
              backgroundColor: 'pink',
              width: 100,
              height: 100,
            }}
          >
            <RNText>Hello I am fade</RNText>
          </View>
        </Fade>
      </View>
          </Wrapper>
    )
    }`,
      scope: { Wrapper, View, Pressable, RNText, StyleSheet, Fade, useState },
      argsType: {},
    }}
  />
</AppProvider>

<br />

## Installation

```jsx
yarn add @universa11y/transitions
```

## Usage

```jsx
import { Fade } from '@universa11y/transitions';
<Fade
  in={visibleFade}
  style={StyleSheet.absoluteFill}
  initial={{ opacity: 0 }}
  animate={{ opacity: 1, transition: { duration: 200 } }}
  exit={{ opacity: 0, transition: { duration: 100 } }}
></Fade>;
```

## Anatomy

```jsx
export default () => <Fade />;
```

## API Reference

### Fade or Slide or Stagger or PresenceTransition

```jsx
interface ISupportedTransitions {
  opacity?: number;
  translateY?: number;
  translateX?: number;
  scale?: number;
  scaleX?: number;
  scaleY?: number;
  rotate?: string;
}
```

```jsx
interface ITransitionStyleProps extends ISupportedTransitions {
  transition?: {
    type?: 'timing' | 'spring',
    easing?: (value: number) => number,
    overshootClamping?: boolean,
    restDisplacementThreshold?: number,
    restSpeedThreshold?: number,
    velocity?: number | { x: number, y: number },
    bounciness?: number,
    speed?: number,
    tension?: number,
    friction?: number,
    stiffness?: number,
    mass?: number,
    damping?: number,
    delay?: number,
    duration?: number,
    useNativeDriver?: boolean,
  };
}
```

<AppProvider>
  <CodePreview
    showComponentRenderer={true}
    showArgsController={false}
    metaData={{
      code: ` 
      function App () {
  const [visibleFade, setVisibleFade] = useState(false);
        return (
          <Wrapper>
        <View>
        <Pressable
          onPress={() => {
            setVisibleFade(!visibleFade);
          }}
        >
          <RNText>Press me fade</RNText>
        </Pressable>
        <Fade
          in={visibleFade}
          style={StyleSheet.absoluteFill}
          initial={{ opacity: 0 }}
          animate={{ opacity: 1, transition: { duration: 200 } }}
          exit={{ opacity: 0, transition: { duration: 100 } }}
        >
          <View
            style={{
              backgroundColor: 'pink',
              width: 100,
              height: 100,
            }}
          >
            <RNText>Hello I am fade</RNText>
          </View>
        </Fade>
      </View>
          </Wrapper>
    )
    }`,
      scope: { Wrapper, View, Pressable, RNText, StyleSheet, Fade, useState },
      argsType: {},
    }}
  />
</AppProvider>
