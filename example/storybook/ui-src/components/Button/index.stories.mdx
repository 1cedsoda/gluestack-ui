import { Canvas, Meta, Story } from '@storybook/addon-docs';

<Meta title="components/Button" />

import { Button, AddIcon, InfoIcon } from './Button';
import { AppProvider, CodePreview } from '@gluestack/design-system';
import { ButtonSizesExample } from './ButtonSizes';

import Wrapper from '../Wrapper';

# Button

A Button component is used to create clickable elements that perform an action when pressed.

The styles of Gluestack Ui button is injected from [@dank-style/react]('https://www.npmjs.com/package/@dank-style/react') and accessibility and other functionality is provided by [@universa11y/button]('https://www.npmjs.com/package/@universa11y/button').

## Features (Provided by universa11y)

- Keyboard support for actions.
- Support for hover, focus and active states.

## Import

```jsx
import { Button } from './components/button';
```

## Usage

<AppProvider>
  <CodePreview
    showComponentRenderer={true}
    showArgsController={false}
    metaData={{
      code: ` 
      function App () {
        return (
          <Wrapper>
            <Button>
              <Button.Text>Button</Button.Text>
            </Button>
          </Wrapper>
    )
    }`,
      scope: { Button: Button, Wrapper: Wrapper },
      argsType: {},
    }}
  />
</AppProvider>

<br />

## Sizes

<AppProvider>
  <CodePreview
    showComponentRenderer={true}
    showArgsController={false}
    metaData={{
      code: ` 
      function App () {
        return (
        <Wrapper>
         <Button mt="$4" size={'xs'} >
            <Button.Text>Button</Button.Text>
          </Button>
         <Button mt="$4" size={'sm'} >
            <Button.Text>Button</Button.Text>
          </Button>
         <Button mt="$4" size={'md'} >
            <Button.Text>Button</Button.Text>
          </Button>
          <Button mt="$4" size={'lg'} >
            <Button.Text>Button</Button.Text>
          </Button>
        </Wrapper>
    )
    }`,
      scope: { Button: Button, Wrapper: Wrapper },
      argsType: {},
    }}
  />
</AppProvider>

<br />

### Button Styles

<AppProvider>
  <CodePreview
    showComponentRenderer={true}
    showArgsController={false}
    metaData={{
      code: ` 
      function App () {
        return (
        <Wrapper>
         <Button mt="$4" size={'md'} style="solid">
            <Button.Text>Button</Button.Text>
          </Button>
         <Button mt="$4" size={'md'} style="outline">
            <Button.Text>Button</Button.Text>
          </Button>
         <Button mt="$4" size={'md'} style="link">
            <Button.Text>Button</Button.Text>
          </Button>
        </Wrapper>
    )
    }`,
      scope: { Button: Button, Wrapper: Wrapper },
      argsType: {},
    }}
  />
</AppProvider>

<br />

### Button Group

<AppProvider>
  <CodePreview
    showComponentRenderer={true}
    showArgsController={false}
    metaData={{
      code: ` 
      function App () {
        return (
        <Wrapper>
        <Button.Group direction="row">
          <Button>
            <Button.Text>Button 1</Button.Text>
          </Button>
          <Button bg="$blue500">
            <Button.Text>Button 2</Button.Text>
          </Button>
          <Button>
            <Button.Text>Button 3</Button.Text>
          </Button>
        </Button.Group>
        </Wrapper>
    )
    }`,
      scope: { Button: Button, Wrapper: Wrapper },
      argsType: {},
    }}
  />
</AppProvider>

<br />

### Button With Icon

<AppProvider>
  <CodePreview
    showComponentRenderer={true}
    showArgsController={false}
    metaData={{
      code: ` 
      function App () {
        return (
        <Wrapper>
        <Button>
          <InfoIcon mr="$2" color="$white" />
          <Button.Text>LeftIcon</Button.Text>
        </Button>
        <Button style="solid" mt="$2">
          <Button.Text>RightIcon</Button.Text>
          <AddIcon ml="$2" color="$white" />
        </Button>
        </Wrapper>
    )
    }`,
      scope: {
        Button: Button,
        Wrapper: Wrapper,
        InfoIcon: InfoIcon,
        AddIcon: AddIcon,
      },
      argsType: {},
    }}
  />
</AppProvider>

### Loading Button

<AppProvider>
  <CodePreview
    showComponentRenderer={true}
    showArgsController={false}
    metaData={{
      code: ` 
      function App () {
        const [isLoading] = React.useState(true);
        return (
         <Wrapper>
            <Button
              disabled={isLoading}
              focusable={!isLoading}
              opacity={isLoading ? 0.4 : 1}
            >
             <Button.Spinner color="white" mr="$2" />
             <Button.Text>Submitting</Button.Text>
            </Button>
        </Wrapper>
    )
    }`,
      scope: {
        Button: Button,
        Wrapper: Wrapper,
        InfoIcon: InfoIcon,
        AddIcon: AddIcon,
      },
      argsType: {},
    }}
  />
</AppProvider>

## API Reference

### Button

Contains all button related layout style props and actions.
It inherits all the properties of React Native's [Pressable](https://reactnative.dev/docs/pressable#props) component.

| Prop           | Type | Default | Description                                        |
| -------------- | ---- | ------- | -------------------------------------------------- |
| isLoading      | bool | false   | When true, its loading state activates.            |
| isHovered      | bool | false   | To manually set hover to the button.               |
| isPressed      | bool | false   | To manually set pressable state to the button.     |
| isFocused      | bool | false   | To manually set focused state to the button.       |
| isFocusVisible | bool | false   | To manually set focus visible state to the button. |
| isDisabled     | bool | false   | To manually set disable to the button.             |

### Button.Text

Contains all text related layout style props and actions.
It inherits all the properties of React Native's [Text](https://reactnative.dev/docs/text#props) component.

| Prop       | Type | Default | Description                                    |
| ---------- | ---- | ------- | ---------------------------------------------- |
| isLoading  | bool | false   | When true, its loading state activates.        |
| isHovered  | bool | false   | To manually set hover to the button.           |
| isPressed  | bool | false   | To manually set pressable state to the button. |
| isFocused  | bool | false   | To manually set focused state to the button.   |
| isDisabled | bool | false   | To manually set disable to the button.         |

### Button.Group

Contains all group related layout style props and actions.
It inherits all the properties of React Native's [View](https://reactnative.dev/docs/view#props) component.

| Prop       | Type              | Default | Description                                                   |
| ---------- | ----------------- | ------- | ------------------------------------------------------------- |
| direction  | 'column' or 'row' | 'row'   |                                                               |
| isDisabled | bool              | false   | When true, this will disable all the buttons in a ButtonGroup |
| isAttached | bool              | true    | When attached, both buttons will be attached to each other.   |
| reversed   | bool              | false   | To reverse the order of components                            |

### GroupSpacer

Contains all spacer related layout style props and actions.
It inherits all the properties of React Native's [View](https://reactnative.dev/docs/view#props) component.

### Button.Spinner

Contains all spinner related layout style props and actions.
It inherits all the properties of React Native's [ActivityIndicator](https://reactnative.dev/docs/activityindicator#props) component.

## Example

<AppProvider>
  <CodePreview
    showComponentRenderer={true}
    showArgsController={false}
    metaData={{
      code: ` 
      function App () {
        return (
        <Button>
          <Button.Text>Button</Button.Text>
        </Button>
    )
    }`,
      scope: { Button: Button },
      argsType: {},
    }}
  />
</AppProvider>

## Acceessibility

### Keyboard

- Tab: Moves focus to the next focusable element.
- `Shift + Tab`: Moves focus to the previous focusable element.
- Enter: Triggers the button's action.

### Screen Reader

- VoiceOver: When the button is focused, the screen reader will announce the button's label and its current state.

## Dependencies

- `@universa11y/button`
- `@dank-style/react`
